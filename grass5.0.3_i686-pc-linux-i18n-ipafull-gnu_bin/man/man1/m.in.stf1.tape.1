m.in.stf1.tape(1)             Grass User's Manual            m.in.stf1.tape(1)



NNAAMMEE
       mm..iinn..ssttff11..ttaappee   -  Filter  to  extract lines from a text file based on
       column contents, especially for Bureau of the Census STF1 files.
       _(_G_R_A_S_S _S_u_p_p_o_r_t _P_r_o_g_r_a_m_)

SSYYNNOOPPSSIISS
       mm..iinn..ssttff11..ttaappee
       mm..iinn..ssttff11..ttaappee hheellpp
       mm..iinn..ssttff11..ttaappee --ff
       mm..iinn..ssttff11..ttaappee [[--nn]] sscc==ssttrr [[sscc==ssttrr .. .. ..]]  oouuttffiillee


       This program must be run in command mode only.



PPAARRAAMMEETTEERRSS
       _s_c is a starting column number of a desired field in the input file, or
       is  the  name  of one of the Identification Section field names for the
       STF1 records (all upper case letters), and _s_t_r is  a  string  to  match
       against  input  lines  starting  at  column  _s_c. _s_c_=_s_t_r may be repeated
       resulting in a conjunction (anding)  of  the  results  of  each  _s_c_=_s_t_r
       expression.   A '?' may be used as a single character wild card in _s_t_r;
       if _s_c_=_s_t_r contains '?' or other shell interpreted characters, it should
       be  protected  in quotes.  Preceeding _s_c by 'N', or preceeding the _= by
       '!' reverses the sense of the test ("not equals").


       mm..iinn..ssttff11..ttaappee _1_1_=_0_5_0    _o_u_t_f_i_l_e  mm..iinn..ssttff11..ttaappee  _S_U_M_L_E_V_=_0_5_0    _o_u_t_f_i_l_e
       mm..iinn..ssttff11..ttaappee   _1_=_T_4_5_0   _'_7_=_B_u_?_?_s_'   _o_u_t_f_i_l_e  mm..iinn..ssttff11..ttaappee  _5_1_=_t_r_a_c_t
       _N_3_7_=_9_7_5_3  _o_u_t_f_i_l_e mm..iinn..ssttff11..ttaappee _5_1_=_t_r_a_c_t _3_7_!_=_9_7_5_3  _o_u_t_f_i_l_e

       Running the program with the _-_f flag generates the list of STF1 Identi-
       fication Section field names to stdout.



DDEESSCCRRIIPPTTIIOONN
       This  is a text filter program written in C especially to work with the
       Census STF1 files, but useful for selecting subsets of lines  from  any
       text  file.   It  will  work  with  arbitrarily long input lines, up to
       10,000 characters.  Input lines may be of variable length.


       A _s_c_=_s_t_r condition which refers to columns beyond the end of the  input
       line is assumed to be true.


       Multiple  tests  are  'anded'  into a single test; that is, lines which
       pass all tests are written to the output file.


       Null characters are always filtered out; thus, this program can be used
       as  a null filter by specifying a _s_c_=_s_t_r condition which will always be
       true (e.g., '1=?').  In the same way, files with lines terminated  with
       or just <;CR>; can be "fixed" to have the standard Unix  terminator.


       NOTE:  One special property of _m_._i_n_._s_t_f_1_._t_a_p_e is that it will pad (with
       0) its output lines to 4806 characters if  the  line  begins  with  the
       characters "STF1" and is greater than 4000 characters long.  Experience
       has shown that some STF1 records are a few  characters  short  (but  no
       data  has  been omitted), and this corrects them so that other programs
       will be able to read full lines.



BBUUGGSS//FFEEAATTUURREESS
       Input lines must be terminated with ,  or <;LF>;<;CR>;.   Output  lines
       will be terminated with  only.


       Input characters lexically less than 'space' (32 decimal; the "control"
       characters) which are not line terminators will be  perceived  as  line
       terminators and thus cause improper functioning.



SSEEEE AALLSSOO
       For extracting lines from files, Unix programs such as _g_r_e_p, or _a_w_k are
       somewhat more flexible than _m_._i_n_._s_t_f_1_._t_a_p_e, but have line length  limi-
       tations and do not adapt to lines terminated with  and .


       This  program  was  created as a preprocessor for Census STF1 files, to
       produce input files for the program _v_._a_p_p_l_y_._c_e_n_s_u_s .



AAUUTTHHOORR
       Dr. James Hinthorne, GIS Laboratory, Central Washington University.



       _L_a_s_t _c_h_a_n_g_e_d_: _$_D_a_t_e_: _2_0_0_2_/_0_1_/_2_5 _0_5_:_4_5_:_3_3 _$



GRASS 5.0                                                    m.in.stf1.tape(1)
