<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<TITLE>d.3d</TITLE>

<body bgcolor="white">

<img src="grass.smlogo.gif">
<hr width="100%" align=center size=6 noshade>


<H2>NAME</H2>

<EM><b>d.3d</b></EM> - Displays three-dimensional images based on raster map layers. 
<BR>
<EM>(GRASS Display Program)</EM>

<H2>SYNOPSIS</H2>

<B>d.3d</B> 
<BR>
<B>d.3d help</B>
<BR>
<B>d.3d</B> [<B>-lan</B>] 
  <B>map=</B><EM>name</EM> 
  <B>elevation=</B><EM>name</EM> 
  [<B>from_coordinate=</B><EM>x,y,z</EM>]
  [<B>to_coordinate=</B><EM>x,y,z</EM>]
  [<B>exaggeration=</B><EM>value</EM>]
  [<B>lines=</B><EM>value</EM>]
  [<B>field=</B><EM>value</EM>]
  [<B>color=</B><EM>name</EM>]
  [<B>box=</B><EM>name</EM>]

<H2>DESCRIPTION</H2>

<EM>d.3d</EM>
displays three-dimensional graphic images based on GRASS raster map layers. 
The user identifies the viewing point, the line of sight, a vertical exaggeration factor, 
the viewing angle (field of view), the frequency and color of vector grid lines 
to appear in the display, the map to be displayed in 3-d, and the map whose category 
values are to be used as elevation values in the 3-dimensional image. 

<P>
The program will be run non-interactively if the user specifies all needed parameter 
values and flag settings on the command line. Alternately, the user can simply 
type <B>d.3d</B> on the command line; in this case, the program will prompt the 
user for parameter values and flag settings using the standard interface described 
in the manual entry for <EM><A HREF="../html/parser.html">parser</A></EM>.

<P>
Three-dimensional images can also be generated 
through the GRASS <EM><A HREF="../html/d.display.html">d.display</A></EM> program. 


<H2>OPTIONS</H2>

<H3>Flags:</H3>
<DL>
<DT><B>-l</B>
<DD>Display <EM>lines</EM> only, without displaying the raster base 
<EM>map</EM>.
<DT><B>-a</B>
<DD>Each grid-cell is rendered using four elevation coordinates: one for each 
corner. By default, each corner takes the value of the grid-cell to the lower 
right. With the -a option each corner is calculated to be an average of the 
four bordering cell elevation values. 
<DT><B>-n</B>
<DD>Show null elevations.
</DL>

<H3>Parameters:</H3>

<DL>
<DT><B>map=</B><EM>name</EM>
<DD>The raster map layer used to generate the color shown in the 3-d output 
(i.e., the map whose x and y values will be displayed, using the z values 
present in the <EM>elevation</EM> map layer.) 
<DT><B>elevation=</B><EM>name</EM>
<DD>The raster map used to generate the texture in the 3-d image 
(i.e., the map whose category values will become the elevation values in the 
3-d map displayed). This need not be an elevation map layer, although elevation 
is commonly used. 
<BR>
Default: elevation 
<DT><B>from_coordinate=</B><EM>x,y,z</EM>
<DD>Coordinates of the viewing point, given as: 
    <EM>northing,easting,elevation</EM>.
    The default <EM>from_coordinate</EM> value 
    is appropriate for the spearfish sample data set. 
<BR>
Default: Calculated at run-time just south-west of the south-west corner. 
<DT><B>to_coordinate=</B><EM>x,y,z</EM>
<DD>Coordinates of center of view, given as: 
<EM>northing,easting,elevation</EM>.
The default <EM>to_coordinate</EM> 
value is appropriate for the spearfish sample 
data set. 
<BR>
Default: Calculated at run-time as the center of the image 
<DT><B>exaggeration=</B></EM>value</EM>
<DD>Vertical exaggeration factor. This value is multiplied by the "elevation" values 
(category values) in the <EM>elevation</EM> map layer. 
As the vertical coordinates are exaggerated, the elevation (z) value of the 
center of view (the <EM>to_coordinate</EM>) should be increased. 
<BR>
Default: 2.0 
<DT><B>lines=</B><EM>value</EM>
<DD>North-south and east-west trending lines can be drawn on the 3-d image
output, to enhance the 3-d effect.  The <EM>lines</EM> value specifies
the number of rows and columns to skip between lines.  0 means
"display no lines". Lines will be drawn in the <EM>color</EM> stated.
The user can elect to only display these lines, without displaying the
<EM>map</EM>, by setting the -l flag.
<BR>
Default: 1 
<DT><B>field=</B><EM>value</EM>
<DD>The field of view (viewing angle) in the image, stated in degrees. 
<BR>
Default: 30 
<DT><B>color=</B><EM>name</EM>
<DD>Color of vector <EM>lines</EM> drawn on the output. 
<BR>
Options: color, white, red, orange, yellow, green, blue, indigo, violet, gray, black 
<BR>
Default: gray 
<DT><B>box=</B><EM>name</EM>
<DD>Color of bounding box
<BR>
Options: red,orange,yellow,green,blue,indigo,violet,
 white,black,gray,brown,magenta,aqua,grey,none
<BR>
Default: none
</DL>

<P>

The resulting three-dimensional image is drawn in the active frame 
on the graphics monitor. The user should select and erase the full graphics monitor 
frame before running <EM>d.3d</EM> to prepare the screen for graphics. 
Refer to the GRASS program 
<EM><A HREF="../html/3d.view.sh.html">3d.view.sh</A></EM>
for a demonstration of the <EM>d.3d</EM> program. 

<H2>INTERACTIVE MODE</H2>


<P>
The interactive mode prompts for the raster map to be rendered, the raster map 
to be queried for elevation information, and an optionally saved set of saved 
viewing parameters. The user is then presented with a form in which the 
options can be modified. 

<P>
It is suggested that the following procedure be used to efficiently find the 
correct viewing parameters. Start with a gross grid (by default, a resolution 
is chosen which limits the total number of rows and columns), display lines 
only, set line colors to "color" (lines take their color from the map), set the 
box color to something other than "none", and use the default viewing 
coordinates. Experiment with the viewing coordinates until the map is 
positioned in a desireable configuration. When the map is lined up correctly, 
set the display resolution as low as you like for a final image. 


<H2>BUGS</H2>

Several additions to this program have been suggested. These include the 
following: 
<OL>
<LI> Border the image with a visually appealing curtain. 
<LI> Add x,y,z coordinates and scale information to the displayed 3-d image. 
<LI> Provide a graphic-oriented user interface for identifying 
     viewing parameters. 
<LI> Display output more quickly by doing mathematics in integers. 
<LI> Add the option of plotting vector map layers. 
</OL>

<H2>SEE ALSO</H2>

<EM><A HREF="3d.view.sh.html">3d.view.sh</A>,</EM><br>
<EM><A HREF="d.display.html">d.display</A>,</EM><br>
<EM><A HREF="d.erase.html">d.erase</A>,</EM><br>
<EM><A HREF="d.frame.html">d.frame</A>,</EM><br>
<EM><A HREF="parser.html">parser</A></EM>

<H2>AUTHOR</H2>

James Westervelt, U.S. Army Construction Engineering Research Laboratory<p><i>Last changed: $Date: 2002/10/31 08:40:47 $</i>
</body>
</html>
