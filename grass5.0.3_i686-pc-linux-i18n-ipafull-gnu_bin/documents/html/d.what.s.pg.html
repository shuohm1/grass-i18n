<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.77 [ru] (X11; U; Linux 2.2.19-3.asp i686) [Netscape]">
   <title>d.what.s.pg</title>
</head>
<body bgcolor="#FFFFFF" link="#0000DF" vlink="#006000">
<a NAME="d.what.s.pg"></a><img SRC="grass.smlogo.gif" >
<hr width="100%" align=center size=6 noshade>
<h2>
NAME</h2>
<b><i>d.what.s.pg</i></b> - Report database attributes associated with
a specific point location. (GRASS-RDBMS Attribute Interface Program)
<h2>
SYNOPSIS</h2>
<b>d.what.s.pg</b>
<br><b>d.what.s.pg help</b>
<br><b>d.what.s.pg</b> <b>tab</b>=name <b>xcol</b>=name <b>ycol</b>=name
[<b>xpos</b>=value] [<b>ypos</b>=value] <b>distance</b>=value [<b>hv</b>=name]
<h2>
ALTERNATE</h2>
<b>d.what.s.pg -s help</b>
<br><b>d.what.s.pg [-s]</b> [<b>sql</b>=file] <b>distance</b>=value [<b>hv</b>=name]
<h2>
DESCRIPTION</h2>
<i>d.what.s.pg</i> reports database attributes in the currently selected
database which are associated with a specific point location. The current
database is identified by the GRASS environment variable $PG_DBASE which
is set using the <i>g.select.pg</i> GRASS-RDBMS interface tool. The location
to query is selected by the user with the mouse. The radius around this
point to search is specified by the distance argument. Sites are selected
by comparing the values in the database columns containing X and Y coordinate
data against the coordinate data at the current mouse location.The columns
in the table containing the coordinate values are returned in the report.
If information from more than one table is required use the <i>-s</i> flag
and the alternate command line format (see below). The user can also provide
the center of the search point and the distance around it to find sites
within the circle around the search center non-interactively.
<h2>
COMMAND LINE OPTIONS</h2>

<h3>
Parameters:</h3>

<dl>
<dt>
<b>tab=databasetablename</b></dt>

<dd>
Table containing X, Y coordinate values</dd>

<dt>
<b>xcol=databasecolumnname</b></dt>

<dd>
Column containing the X coordinate (E/W) value.</dd>

<dt>
<b>ycol=databasecolumnname</b></dt>

<dd>
Column containing the Y coordinate (N/S) value.</dd>

<dt>
<b>distance=value</b></dt>

<dd>
Radius distance from the current mouse location to conduct database search.</dd>

<br><b>xpos=value</b>
<dd>
X coord. (E/W) of search.</dd>

<br><b>ypos=value</b>
<dd>
Y coord. (N/S) of search.</dd>

<br><b>hv=name</b>
<dd>
(h)Horizontal/(v)vertical output (default is v)</dd>
</dl>

<h2>
ALTERNATE COMMAND LINE USAGE</h2>

<p><br>The alternate command line structure is selected using the the <i>[-s]</i>
flag on the command line. When using this flag the user must include the
name of a text file on the command line as well. This file must include
a complete, well formed SQL SELECT statement specifying the query criteria.
<p>The user must also specify the name of the GRASS data layer containing
these category values on the command line. The following example illustrates
the syntax which must be used in constructing a SELECT statement for use
with the <i>-s</i> flag.
<p><b>EXAMPLE 1. </b>(single table)
<p><i>d.what.s.pg -s sql=izb.sql distance=100</i>
<p>here <i>izb.sql</i>:
<p>SELECT * from izb where point(xcoor,ycoor)
<p><b>EXAMPLE 2. </b>(two tables)<b></b>
<p><i>d.what.s.pg -s sql=izb2.sql distance=100</i>
<p>here <i>izb2.sql</i>:
<p>SELECT *, huts_info.description from izb where huts_info.num=num and
point(xcoor,ycoor)
<h3>
Flag:</h3>

<dl>
<dt>
<b>-s</b></dt>

<dd>
SQL select statements are input from a prepared file.</dd>
</dl>

<h3>
Parameters:</h3>

<dl>
<dt>
<b>sql=filename</b></dt>

<dd>
SQL statements specifying well formed selection criteria. These criteria
must include the database table name, the Xcol and Ycol names as well as
the search distance. Additional criteria may be placed in the "where" clause
to further subset information returned from the database.</dd>

<dt>
<b></b></dt>

<dt>
<b>distance=value</b></dt>

<dd>
Radius distance from the current mouse location to conduct database search.</dd>
<b></b>
<p><br><b>hv=name</b>
<dd>
(h)Horizontal/(v)vertical output (default is v)</dd>
</dl>

<h2>
BUGS</h2>
None known.
<h2>
NOTE</h2>
This program requires the Postgres database software.
<h2>
SEE ALSO</h2>
<i><a href="g.column.pg.html">g.column.pg</a>, <a href="g.select.pg.html">g.select.pg</a>,
<a href="g.stats.pg.html">g.stats.pg</a>,
<a href="g.table.pg.html">g.table.pg</a>,
<a href="d.rast.pg.html">d.rast.pg</a>,
<a href="d.site.pg.html">d.site.pg</a>,
<a href="d.vect.pg.html">d.vect.pg</a>,
<a href="d.what.r.pg.html">d.what.r.pg</a>,
<a href="d.what.v.pg.html">d.what.v.pg</a>,
<a href="r.reclass.pg.html">r.reclass.pg</a>,
<a href="r.rescale.pg.html">r.rescale.pg</a>,
<a href="v.reclass.pg.html">v.reclass.pg</a></i>
<h2>
AUTHOR</h2>
Original Informix SQL-tools: James A. Farley, Wang Song, and W. Fredrick
Limp University of Arkansas, CAST
<p>Postgres modifications: Janne Soimasuo, Faculty of Forestry, University
of Joensuu, Finland.
<p>Updated to GRASS 5 by Alex Shevlakov (sixote@yahoo.com)
</body>
</html>
